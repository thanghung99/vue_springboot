{"remainingRequest":"C:\\Users\\thang\\Desktop\\kiai\\QLyTB\\nguyen-hung-thang\\src\\main\\resources\\template\\vue-vuex-jwt-auth\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\thang\\Desktop\\kiai\\QLyTB\\nguyen-hung-thang\\src\\main\\resources\\template\\vue-vuex-jwt-auth\\src\\views\\AssignThietBi.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\thang\\Desktop\\kiai\\QLyTB\\nguyen-hung-thang\\src\\main\\resources\\template\\vue-vuex-jwt-auth\\src\\views\\AssignThietBi.vue","mtime":1617870229916},{"path":"C:\\Users\\thang\\Desktop\\kiai\\QLyTB\\nguyen-hung-thang\\src\\main\\resources\\template\\vue-vuex-jwt-auth\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\thang\\Desktop\\kiai\\QLyTB\\nguyen-hung-thang\\src\\main\\resources\\template\\vue-vuex-jwt-auth\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\thang\\Desktop\\kiai\\QLyTB\\nguyen-hung-thang\\src\\main\\resources\\template\\vue-vuex-jwt-auth\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\thang\\Desktop\\kiai\\QLyTB\\nguyen-hung-thang\\src\\main\\resources\\template\\vue-vuex-jwt-auth\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgVXNlclNlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvdXNlci5zZXJ2aWNlJzsNCmltcG9ydCBUaGlldEJpU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy90aGlldGJpLnNlcnZpY2UnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIC8vIG5hbWU6ICdUaGlldEJpJywNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdXNlcjoge30sDQogICAgICBsaXN0TG9haTogW10sDQogICAgICBsaXN0VGhpZXRCaTogW10sDQogICAgICBtdW9uVHJhOiB7fSwNCiAgICB9Ow0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIFVzZXJTZXJ2aWNlLmdldFVzZXIodGhpcy4kcm91dGUucGFyYW1zLmlkKS50aGVuKA0KICAgICAgKHJlc3BvbnNlKSA9PiB7DQogICAgICAgIHRoaXMudXNlciA9IHJlc3BvbnNlLmRhdGE7DQogICAgICAgIHRoaXMubXVvblRyYS50YWlLaG9hbiA9IHJlc3BvbnNlLmRhdGE7DQogICAgICB9LA0KICAgICAgKGVycm9yKSA9PiB7DQogICAgICAgIHRoaXMuY29udGVudCA9DQogICAgICAgICAgKGVycm9yLnJlc3BvbnNlICYmDQogICAgICAgICAgICBlcnJvci5yZXNwb25zZS5kYXRhICYmDQogICAgICAgICAgICBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UpIHx8DQogICAgICAgICAgZXJyb3IubWVzc2FnZSB8fA0KICAgICAgICAgIGVycm9yLnRvU3RyaW5nKCk7DQogICAgICB9DQogICAgKTsNCiAgICBUaGlldEJpU2VydmljZS5nZXRMb2FpVGhpZXRCaSgpLnRoZW4oDQogICAgICAocmVzcG9uc2UpID0+IHsNCiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOw0KICAgICAgICB0aGlzLmxpc3RMb2FpID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgIH0sDQogICAgICAoZXJyb3IpID0+IHsNCiAgICAgICAgdGhpcy5jb250ZW50ID0NCiAgICAgICAgICAoZXJyb3IucmVzcG9uc2UgJiYNCiAgICAgICAgICAgIGVycm9yLnJlc3BvbnNlLmRhdGEgJiYNCiAgICAgICAgICAgIGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZSkgfHwNCiAgICAgICAgICBlcnJvci5tZXNzYWdlIHx8DQogICAgICAgICAgZXJyb3IudG9TdHJpbmcoKTsNCiAgICAgIH0NCiAgICApOw0KICB9LA0KICB3YXRjaDogew0KICAgIGxpc3RMb2FpKCkgew0KICAgICAgLy8gICB0aGlzLmxpc3RMb2FpID0gdGhpcy5saXN0TG9haVswXQ0KICAgICAgLy8gIHRoaXMubGlzdFRoaWV0QmkgPSB0aGlzLmxpc3RUaGlldEJpWzBdDQogICAgfSwNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIG9uQ2hhbmdlKGV2ZW50KSB7DQogICAgICBUaGlldEJpU2VydmljZS5nZXRUaGlldEJpQnlMb2FpKGV2ZW50LnRhcmdldC52YWx1ZSkudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgdGhpcy5saXN0VGhpZXRCaSA9IHJlc3BvbnNlLmRhdGE7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGFzc2lnbigpew0KICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKCIxID0gIit0aGlzLm11b25UcmEudGhpZXRCaSkNCiAgICAgICBUaGlldEJpU2VydmljZS5hc3NpZ25UaGlldEJpKHRoaXMubXVvblRyYSkudGhlbigocmVzcG9uc2UpID0+ew0KICAgICAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKHJlc3BvbnNlLnN0YXR1cykNCiAgICAgICAgICAgaWYocmVzcG9uc2Uuc3RhdHVzID09IDIwMSl7DQogICAgICAgICAgICAgICAgYWxlcnQoIkFzc2lnbiB0aMOgbmggY8O0bmciKQ0KICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvdXNlcicpOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICB9DQogICAgICAgICAgIGlmKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDQpew0KICAgICAgICAgICAgICAgIGFsZXJ0KCJDaOG7jW4gdGhp4bq/dCBi4buLIikNCiAgICAgICAgICAgICAgLy8gIGxvY2F0aW9uLnJlbG9hZCgpDQogICAgICAgICAgIH0NCiAgICAgICAgICAgLy8gZWxzZSAgYWxlcnQoIkFzc2lnbiB0aOG6pXQgYuG6oWkiKQ0KICAgICAgIH0pDQogICAgfQ0KICB9LA0KfTsNCg=="},{"version":3,"sources":["AssignThietBi.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AssignThietBi.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <header class=\"jumbotron\">\r\n      <div class=\"form-group\">\r\n        <label for=\"tenThietBi\">Tên người dùng</label>\r\n        <input\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          id=\"tenThietBi\"\r\n          placeholder=\"Tên người dùng\"\r\n          v-model=\"user.tenNguoiDung\"\r\n          disabled\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"role\">Loại thiết bị</label><br />\r\n        <select style=\"width: 100%; height: 33px\" @change=\"onChange\">\r\n          <option disabled selected>Chọn loại thiết bị...</option>\r\n          <option :value=\"loai.id\" v-for=\"(loai, id) in listLoai\" :key=\"id\">\r\n            {{ loai.tenLoai }}\r\n          </option>\r\n        </select>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"role\">Tên thiết bị</label><br />\r\n        <select\r\n          v-model=\"muonTra.thietBi\"\r\n          id=\"name\"\r\n          style=\"width: 100%; height: 33px\"\r\n        >\r\n          <option\r\n            :value=\"thietbi\"\r\n            v-for=\"(thietbi, id) in listThietBi\"\r\n            :key=\"id\"\r\n          >\r\n            {{ thietbi.tenThietBi }}\r\n          </option>\r\n        </select>\r\n      </div>\r\n      <button type=\"button\" @click=\"assign\" class=\"btn btn-primary\">\r\n        Assign\r\n      </button>\r\n    </header>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UserService from '../services/user.service';\r\nimport ThietBiService from '../services/thietbi.service';\r\n\r\nexport default {\r\n  // name: 'ThietBi',\r\n  data() {\r\n    return {\r\n      user: {},\r\n      listLoai: [],\r\n      listThietBi: [],\r\n      muonTra: {},\r\n    };\r\n  },\r\n  mounted() {\r\n    UserService.getUser(this.$route.params.id).then(\r\n      (response) => {\r\n        this.user = response.data;\r\n        this.muonTra.taiKhoan = response.data;\r\n      },\r\n      (error) => {\r\n        this.content =\r\n          (error.response &&\r\n            error.response.data &&\r\n            error.response.data.message) ||\r\n          error.message ||\r\n          error.toString();\r\n      }\r\n    );\r\n    ThietBiService.getLoaiThietBi().then(\r\n      (response) => {\r\n        window.console.log(response.data);\r\n        this.listLoai = response.data;\r\n      },\r\n      (error) => {\r\n        this.content =\r\n          (error.response &&\r\n            error.response.data &&\r\n            error.response.data.message) ||\r\n          error.message ||\r\n          error.toString();\r\n      }\r\n    );\r\n  },\r\n  watch: {\r\n    listLoai() {\r\n      //   this.listLoai = this.listLoai[0]\r\n      //  this.listThietBi = this.listThietBi[0]\r\n    },\r\n  },\r\n  methods: {\r\n    onChange(event) {\r\n      ThietBiService.getThietBiByLoai(event.target.value).then((response) => {\r\n        this.listThietBi = response.data;\r\n      });\r\n    },\r\n    assign(){\r\n         window.console.log(\"1 = \"+this.muonTra.thietBi)\r\n       ThietBiService.assignThietBi(this.muonTra).then((response) =>{\r\n            window.console.log(response.status)\r\n           if(response.status == 201){\r\n                alert(\"Assign thành công\")\r\n                this.$router.push('/user');\r\n                \r\n           }\r\n           if(response.status == 204){\r\n                alert(\"Chọn thiết bị\")\r\n              //  location.reload()\r\n           }\r\n           // else  alert(\"Assign thất bại\")\r\n       })\r\n    }\r\n  },\r\n};\r\n</script>\r\n"]}]}